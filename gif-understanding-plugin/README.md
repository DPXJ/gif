# GIF 内容理解插件

## 📝 插件说明

这是一个用于 FastGPT 工作流的自定义插件，能够智能分析 GIF 动图内容，并将关键帧转换为 Base64 格式供大模型进行多模态理解。

## 🚀 功能特性

- **智能抽样**: 根据 GIF 帧数自动选择最优抽样策略
  - < 10帧: 首尾两帧
  - 10-20帧: 首、中、尾三帧  
  - > 20帧: 均匀抽样5帧
- **多输入支持**: 支持 URL 链接和本地文件路径
- **Base64 输出**: 直接输出可用于大模型的图片数组
- **错误处理**: 完善的异常处理和临时文件清理

## 📦 打包上传

1. 选中 `package.json` 和 `run.js` 两个文件
2. 压缩为 `.zip` 格式 (注意：不要包含文件夹，直接压缩文件)
3. 在 FastGPT 中上传插件

## 🔧 工作流配置

### 输入配置
- **GIF文件源**: 连接文件上传组件或输入 URL
- **用户提问**: 您想对 GIF 提出的问题

### 输出变量
- **base64Frames**: Base64 图片数组 → 连接到 AI 节点的"多模态图片"
- **llmPrompt**: 组合提示词 → 连接到 AI 节点的"系统提示词"
- **error**: 错误信息 (可选)

## 💡 使用示例

1. 上传一个 GIF 文件
2. 输入问题: "请详细描述这个 GIF 的内容和动作"
3. 插件会自动提取关键帧并传递给大模型
4. 大模型基于图片序列生成详细描述

## 🛠️ 技术依赖

- Node.js >= 18.0.0
- sharp: 图像处理
- axios: HTTP 请求

---

插件创建时间: 2025年6月20日 